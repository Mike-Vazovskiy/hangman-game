const hangmanImage=document.querySelector(".hangman-box img"),keyboardDiv=document.querySelector(".keyboard"),wordDisplay=document.querySelector(".word-display"),guessesText=document.querySelector(".guesses-text b"),modal=document.querySelector(".modal"),retryBtn=document.querySelector(".retry");let currentWord,correctLetters=[],wrongGuessCount=0;const maxGuesses=6,resetGame=()=>{correctLetters=[],wrongGuessCount=0,hangmanImage.src=`images/hangman-${wrongGuessCount}.svg`,guessesText.innerText=`${wrongGuessCount} / 6`,keyboardDiv.querySelectorAll("button").forEach(btn=>btn.disabled=!1),wordDisplay.innerHTML=currentWord.split("").map(()=>'<li class="letter"></li>').join(""),modal.classList.remove("show")},getRandomWord=()=>{const{word:word,hint:hint}=wordList[Math.floor(Math.random()*wordList.length)];currentWord=word,document.querySelector(".hint-text").innerText=hint,resetGame()},gameOver=isVictory=>{setTimeout(()=>{const modalText=isVictory?"Ты победил! Ответ: ":"Верный ответ: ";modal.querySelector("img").src=`images/${isVictory?"victory":"lost"}.gif`,modal.querySelector("h4").innerText=`${isVictory?"Поздравляем!":"Игра окончена!"}`,modal.querySelector("p").innerHTML=`${modalText} <b>${currentWord}</b>`,modal.classList.add("show")},300)},initGame=(button,clickedLetter)=>(currentWord.includes(clickedLetter)?[...currentWord].forEach((letter,index)=>{letter===clickedLetter&&(correctLetters.push(letter),wordDisplay.querySelectorAll("li")[index].innerText=letter,wordDisplay.querySelectorAll("li")[index].classList.add("guessed"))}):(wrongGuessCount++,hangmanImage.src=`images/hangman-${wrongGuessCount}.svg`),button.disabled=!0,guessesText.innerText=`${wrongGuessCount} / 6`,6===wrongGuessCount?gameOver(!1):correctLetters.length===currentWord.length?gameOver(!0):void 0);for(let i=1072;i<1104;i++){const button=document.createElement("button");button.innerText=String.fromCharCode(i),keyboardDiv.appendChild(button),button.addEventListener("click",e=>initGame(e.target,String.fromCharCode(i)))}getRandomWord(),retryBtn.addEventListener("click",getRandomWord);